"""Ponto de entrada principal do bot"""
import logging
import time
import sys
from src.core.bot_core import BotCassino

BANNER = r"""
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                            ..............                                          
                                        .....--+#####+-.......                                      
                                     .......+##########+..........                                  
                                 ............+#######+---+###++-......                              
                             ........................-######-+###-.........                         
                         ............................-###++#####--------......                      
                      ....---++---........................-....-+########+-......                   
                  ......+#####++###-..........................-############-........                
                .......-##########+-............................-++####++-...........               
               ..........-+++++---+########+-......................................--.              
              ..................+######--###-...................................-----.              
             ...................-+##++#-##+----++++--........................---------.             
             ......................-----..-+##########-...................------------.             
             ............................-############-................-------++##+---.             
              ..-+++-.....................-+#######+--..............---------######---.             
              ..-####+.........................-................------------#######+--.             
              ..-#####+......................................--------------+#######---.             
              ...+####-+..................................-----------------#######----.             
              ...-+##++#...............................--------------------+####+-----.             
               ....-####..............................-----+##------------------------.             
               ...................-+###+............-----######+----------------------.             
               ...................-######-.........-----########----------------------.             
               ...................-+######-.......-----#########----------------------.             
                ...........--......-#####+--.......----########-----------------------.             
                ..........+####-....-###++#-......-----#######------------------------.             
                ..........+#####+.....+###+-......-----+####--------------------------.             
                ..........-+#####+.......-........-----------------------------+###---.             
                 ..+##+-...-######-...............----------------------------#####+--.             
                 ..+####+...-++###-................--------------------------######+--.             
                 ..-#####-....-+++-................-------------------------#######--.              
                  ..-####--........................-------------------------######---.              
                   ..-+###+........................-------------------------+###+--..               
                    ...-++-........................-------------------------------.                 
                      ...............+#+--.........--------+####+---------------.                   
                        .............#####-.........------+######------------..                     
                           ..........######+-.......-----########----------.                        
                             ........-#####-+.......----+#######+-------..                          
                                .......+#+++#-......----#######+------.                             
                                  ......-+###-......-----####+-----..                               
                                     ......-........-------------.                                  
                                        ............----------.                                     
                                            .........-----..                                        
                                               ......-..                                            
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
 █████   █████ █████   █████  ████████
░░███   ░░███ ░░███   ░░███  ███░░░░███
 ░███    ░███  ░███    ░███ ░░░    ░███
 ░███████████  ░███████████    ██████░
 ░███░░░░░███  ░███░░░░░███   ░░░░░░███
 ░███    ░███  ░███    ░███  ███   ░███
 █████   █████ █████   █████░░████████
░░░░░   ░░░░░ ░░░░░   ░░░░░  ░░░░░░░░
                                                                                  
   █████████    █████████    █████████  █████ ██████   █████    ███████
  ███░░░░░███  ███░░░░░███  ███░░░░░███░░███ ░░██████ ░░███   ███░░░░░███
 ███     ░░░  ░███    ░███ ░███    ░░░  ░███  ░███░███ ░███  ███     ░░███
░███          ░███████████ ░░█████████  ░███  ░███░░███░███ ░███      ░███
░███          ░███░░░░░███  ░░░░░░░░███ ░███  ░███ ░░██████ ░███      ░███
░░███     ███ ░███    ░███  ███    ░███ ░███  ░███  ░░█████ ░░███     ███
 ░░█████████  █████   █████░░█████████  █████ █████  ░░█████ ░░░███████░
  ░░░░░░░░░  ░░░░░   ░░░░░  ░░░░░░░░░  ░░░░░ ░░░░░    ░░░░░    ░░░░░░░
                                                                                  

"""

# Configuração básica de logging
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('bot.log'),
        logging.StreamHandler()
    ]
)

def print_animated_banner():
    """Exibe o banner com efeito de animação"""
    try:
        # Códigos de cores ANSI (opcional)
        COLORS = ['\033[95m', '\033[94m', '\033[92m', '\033[93m', '\033[91m']
        RESET = '\033[0m'
        
        for i, line in enumerate(BANNER.split('\n')):
            if not line.strip():
                print()
                continue
                
            # Efeito de digitação
            for j, char in enumerate(line):
                color = COLORS[(i+j) % len(COLORS)] if sys.stdout.isatty() else ''
                print(f"{color}{char}{RESET}", end='', flush=True)
                time.sleep(0.001)  # Ajuste a velocidade aqui
            print()
            time.sleep(0.05)  # Delay entre linhas
    except:
        # Fallback para exibição simples se houver erro
        print(BANNER)

if __name__ == "__main__":
    try:
        print_animated_banner()
        logging.info("Inicializando BotCassino")
        bot = BotCassino()
        bot.executar()
    except KeyboardInterrupt:
        logging.info("Bot encerrado pelo usuário")
    except Exception as e:
        logging.error(f"Erro fatal: {e}")